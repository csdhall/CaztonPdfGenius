<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Chatbot Demo</title>
	<style>
		.chatbox {
			border: 1px solid black;
			height: 300px;
			overflow: auto;
			margin-bottom: 10px;
		}

		.input {
			margin-top: 10px;
		}
	</style>
</head>
<body>
	<h1>Chatbot Demo</h1>
	<div class="chatbox" id="chatbox"></div>
	<form onsubmit="return askQuestion();">
		<input type="text" id="inputBox" class="input" placeholder="Ask a question...">
		<input type="submit" value="Ask">
	</form>

	<script>
		const chatbox = document.getElementById('chatbox');
		const inputBox = document.getElementById('inputBox');

		function askQuestion() {
			const question = inputBox.value;

			if (question) {
				inputBox.value = '';
				appendMessage('You', question);
				fetch('http://localhost:8000/qa', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						key: question
					})
				})
				.then(response => response.json())
				.then(data => {
					const answer = data.response;
					appendMessage('Chatbot', answer);
				})
				.catch(error => {
					console.error('Error:', error);
				});
			}

			return false;
		}

		function appendMessage(sender, message) {
			const messageElement = document.createElement('p');
			messageElement.innerText = `${sender}: ${message}`;
			chatbox.appendChild(messageElement);
		}
	</script>
</body>
</html>
